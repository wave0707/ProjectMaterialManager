# 流程圖：1.1. 入庫管理整體流程

* **文件版本**: 1.0
* **制定日期**: 2025年7月5日
* **制定者**: William He
* **模組**：1. 物料管理核心流程
* **文件狀態**：流程圖語法已更新為 Mermaid。

---

這份流程圖從一個更高的視角，展示了物料從到貨、登錄、品檢到最終入庫的完整生命週期，並將先前定義的四個子流程（1.1.1 至 1.1.4）串聯起來。

### 流程圖說明

1.  **開始 (物料到貨)**：流程由實體物料送達倉庫開始。
2.  **收貨單維護**：倉管人員根據到貨的物料，執行「1.1.1. 收貨單維護作業」，在系統中建立一張狀態為「暫存」的收貨單。
3.  **品質檢驗**：品管人員接著執行「1.1.2. 品質檢驗結果登錄作業」，對收貨單上的物料進行檢驗並在系統中記錄結果。
4.  **品質判斷**：
    * 若品質不合格：流程將導入「1.1.3. 收貨差異處理作業」，由相關人員決定後續處理方式（如：廠商退貨、報廢等）。此路徑的物料將不會進入庫存。
    * 若品質合格：流程繼續往下。
5.  **入庫確認 (庫存異動)**：倉管主管或權責人員最後執行「1.1.4. 入庫確認作業」，在系統上進行最終確認。此步驟會**正式將物料計入系統庫存**，並更新所有相關的庫存資料表。
6.  **結束**：物料成功入庫，流程結束。

### Mermaid 語法

```mermaid
---
title: 1.1. 入庫管理整體流程圖
---
flowchart TD
    subgraph 倉管人員
        A1("開始: 實體物料到貨") --> A2("執行「1.1.1. 收貨單維護作業」<br>建立收貨單 (狀態:暫存)");
    end

    subgraph 品管人員
        B1("執行「1.1.2. 品質檢驗結果登錄」");
    end

    subgraph "系統/主管"
        C1{品質是否合格？};
        C2["執行「1.1.4. 入庫確認作業」"];
        C3["執行「1.1.3. 收貨差異處理作業」<br>(例如：退貨、報廢)"];
        C4([物料正式入庫<br>結束]);
        C5([結束此項目處理]);
    end
    
    subgraph Note1 [異動說明]
        N1["此步驟將正式異動庫存：<br>- 更新收貨單狀態<br>- 寫入庫存異動日誌<br>- 更新即時庫存"];
    end

    A2 --> B1;
    B1 --> C1;
    C1 -- "是" --> C2;
    C1 -- "否" --> C3;
    C2 --> C4;
    C3 --> C5;

    C2 -.-> Note1;
    style Note1 fill:#lightyellow,stroke:#333,stroke-dasharray: 5 5